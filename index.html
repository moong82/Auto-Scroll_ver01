let timer = null;
let interval = 2;
let distance = 100;
const iframe = document.getElementById("webview");
const topBtn = document.getElementById("topBtn");
const downBtn = document.getElementById("downBtn");

function getIframeScrollTarget() {
  try {
    return iframe.contentWindow.document.scrollingElement || iframe.contentWindow.document.body;
  } catch (e) {
    return null;
  }
}

function startScroll() {
  stopScroll();
  topBtn.disabled = true;
  downBtn.disabled = true;
  timer = setInterval(() => {
    const target = getIframeScrollTarget();
    if (target) {
      target.scrollBy(0, distance);
    }
  }, interval * 1000);
}

function stopScroll() {
  clearInterval(timer);
  timer = null;
  topBtn.disabled = false;
  downBtn.disabled = false;
}

function scrollToTop() {
  const target = getIframeScrollTarget();
  if (target) {
    target.scrollTo({ top: 0, behavior: 'smooth' });
  }
}

function scrollToBottom() {
  const target = getIframeScrollTarget();
  if (target) {
    target.scrollTo({ top: target.scrollHeight, behavior: 'smooth' });
  }
}
